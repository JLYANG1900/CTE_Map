## ğŸ“¸ Gallery (å®æœºæ¼”ç¤º)

<details>
<summary><strong>ğŸ—ºï¸ Map & Navigation (åœ°å›¾ä¸å¯¼èˆª)</strong></summary>
<br>
<div align="center">
  <img src="<img width="1302" height="862" alt="CTEç”·å›¢12" src="https://github.com/user-attachments/assets/4cf43ab0-e653-466e-98de-b2c6a4f7a65a" />" width="45%" />
  <img src="path/to/national_map.jpg" width="45%" />
  <br>
  <img src="path/to/location_detail.jpg" width="45%" />
  <img src="path/to/travel_menu.jpg" width="45%" />
</div>
</details>

<details>
<summary><strong>ğŸ“Š RPG Dashboard & Agency (ç»è¥ä¸äº‹åŠ¡æ‰€)</strong></summary>
<br>
<div align="center">
  <img src="path/to/dashboard.jpg" width="30%" />
  <img src="path/to/agency_contracts.jpg" width="30%" />
  <img src="path/to/shop.jpg" width="30%" />
</div>
</details>

<details>
<summary><strong>â¤ï¸ Heartbeat Interaction (å¿ƒè·³äº’åŠ¨)</strong></summary>
<br>
<div align="center">
  <img src="path/to/netflix_home.jpg" width="45%" />
  <img src="path/to/member_select.jpg" width="45%" />
</div>
</details>

## CTE Map Idol Manager (CTEå¶åƒç”·å›¢æ¨¡æ‹Ÿç»è¥)
An Immersive Idol Management RPG Extension for SillyTavern. 
ä¸“ä¸º SillyTavern æ‰“é€ çš„æ²‰æµ¸å¼å¶åƒå›¢ä½“ç»è¥ RPG æ‰©å±•ã€‚

**ğŸ“– Introduction (ç®€ä»‹)**
CTE Map Idol Manager is a comprehensive extension designed to transform your SillyTavern roleplay experience into a fully visualized simulation game. It serves as a frontend interface for the "CTE Boy Group" storyline, visualizing data such as funds, schedules, and locations, while providing interactive modules for agency management and intimate interactions.

CTE Map Idol Manager æ˜¯ä¸€ä¸ªå…¨é¢çš„æ‰©å±•æ’ä»¶ï¼Œæ—¨åœ¨å°†ä½ çš„ SillyTavern è§’è‰²æ‰®æ¼”ä½“éªŒè½¬åŒ–ä¸ºä¸€ä¸ªå®Œå…¨å¯è§†åŒ–çš„æ¨¡æ‹Ÿç»è¥æ¸¸æˆã€‚å®ƒä½œä¸ºâ€œCTEç”·å›¢â€å‰§æƒ…çš„å‰ç«¯ç•Œé¢ï¼Œå°†èµ„é‡‘ã€è¡Œç¨‹ã€åœ°ç‚¹ç­‰æ•°æ®å¯è§†åŒ–ï¼Œå¹¶æä¾›äº†äº‹åŠ¡æ‰€ç®¡ç†å’Œäº²å¯†äº’åŠ¨çš„äº¤äº’æ¨¡å—ã€‚

This extension is specifically built to work with the CTEç”·å›¢æ—¥å¸¸mvu4.json character card. The card handles the logic and text generation, while this extension renders the UI and handles user inputs.

æœ¬æ’ä»¶æ˜¯ä¸“é—¨ä¸º CTEç”·å›¢æ—¥å¸¸mvu4.json è§’è‰²å¡æ„å»ºçš„ã€‚è§’è‰²å¡è´Ÿè´£é€»è¾‘å¤„ç†å’Œæ–‡æœ¬ç”Ÿæˆï¼Œè€Œæœ¬æ’ä»¶è´Ÿè´£æ¸²æŸ“ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰å¹¶å¤„ç†ç”¨æˆ·è¾“å…¥ã€‚

**âœ¨ Key Features (æ ¸å¿ƒç©æ³•)**
1. Visualized City Map & Navigation (å¯è§†åŒ–åŸå¸‚åœ°å›¾ä¸å¯¼èˆª)
Explore the fictional city of "Jinggang". Users can drag the map, click on locations (Dorms, Office, Airport, etc.) to view details, and trigger travel events directly through the UI. It supports sub-menus for interior rooms (e.g., specific floors in the dorm).

æ¢ç´¢è™šæ„çš„â€œäº¬æ¸¯å¸‚â€ã€‚ç”¨æˆ·å¯ä»¥æ‹–åŠ¨åœ°å›¾ï¼Œç‚¹å‡»åœ°ç‚¹ï¼ˆå¦‚å®¿èˆã€åŠå…¬å®¤ã€æœºåœºç­‰ï¼‰æŸ¥çœ‹è¯¦æƒ…ï¼Œå¹¶é€šè¿‡ UI ç›´æ¥è§¦å‘ç§»åŠ¨äº‹ä»¶ã€‚æ”¯æŒå®¤å†…æˆ¿é—´çš„äºŒçº§èœå•ï¼ˆä¾‹å¦‚å®¿èˆçš„å…·ä½“æ¥¼å±‚ï¼‰ã€‚

2. Idol Management Dashboard (å¶åƒç®¡ç†ä»ªè¡¨ç›˜)
A real-time dashboard that tracks RPG stats synced from the chat context, including Funds, Fan Count, and Group Morale. It also displays the current date, location, and a to-do list derived from the roleplay context.

ä¸€ä¸ªå®æ—¶ä»ªè¡¨ç›˜ï¼Œç”¨äºè¿½è¸ªä»èŠå¤©ä¸Šä¸‹æ–‡ä¸­åŒæ­¥çš„ RPG å±æ€§ï¼ŒåŒ…æ‹¬èµ„é‡‘ã€ç²‰ä¸æ•°å’Œå›¢é­‚ã€‚å®ƒè¿˜ä¼šæ˜¾ç¤ºå½“å‰æ—¥æœŸã€åœ°ç‚¹ä»¥åŠä»è§’è‰²æ‰®æ¼”æ–‡æœ¬ä¸­æå–çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ã€‚

3. "Heartbeat" Interaction System (å¿ƒè·³äº’åŠ¨ç³»ç»Ÿ)
A generic "Netflix-style" interface for selecting intimate interactions. Browse through categories like "Trending", "Intimate", and "Public", select a scenario (e.g., "Midnight Whispers"), and choose which member(s) to interact with.

ä¸€ä¸ªç±»ä¼¼â€œNetflixé£æ ¼â€çš„é€šç”¨ç•Œé¢ï¼Œç”¨äºé€‰æ‹©äº²å¯†äº’åŠ¨ã€‚æµè§ˆâ€œçƒ­é—¨â€ã€â€œäº²å¯†â€å’Œâ€œå…¬å¼€â€ç­‰åˆ†ç±»ï¼Œé€‰æ‹©ä¸€ä¸ªåœºæ™¯ï¼ˆå¦‚â€œæ·±å¤œç§è¯­â€ï¼‰ï¼Œå¹¶æŒ‡å®šäº’åŠ¨çš„æˆå‘˜ã€‚

4. Agency Contracts & Shop (äº‹åŠ¡æ‰€é€šå‘Šä¸å•†åº—)
Contracts: View available jobs (Movies, Music, Variety Shows) parsed from the chat. The UI displays requirements and pay, allowing you to assign members to specific contracts. Shop: A purchasing system where you can spend group funds on items like Marketing PR, Training Courses, or Luxury Gifts, directly impacting the RPG stats.

é€šå‘Šï¼š æŸ¥çœ‹ä»èŠå¤©ä¸­è§£æå‡ºçš„å¯ç”¨å·¥ä½œï¼ˆç”µå½±ã€éŸ³ä¹ã€ç»¼è‰ºï¼‰ã€‚UI ä¼šæ˜¾ç¤ºè¦æ±‚å’Œè–ªé…¬ï¼Œå…è®¸ä½ æŒ‡æ´¾æˆå‘˜æ¥å–ç‰¹å®šé€šå‘Šã€‚ å•†åº—ï¼š ä¸€ä¸ªé‡‡è´­ç³»ç»Ÿï¼Œä½ å¯ä»¥èŠ±è´¹å›¢é˜Ÿèµ„é‡‘è´­ä¹°è¥é”€å…¬å…³ã€åŸ¹è®­è¯¾ç¨‹æˆ–å¥¢ä¾ˆç¤¼ç‰©ç­‰ç‰©å“ï¼Œç›´æ¥å½±å“ RPG æ•°å€¼ã€‚

5. Daily News & Schedule (æ¯æ—¥å¿«æŠ¥ä¸è¡Œç¨‹è¡¨)
News: An automatically generated "Daily News" page that reflects the game world's events, parsing headlines and trending topics from the LLM's output. Schedule: A timeline view of the day's agenda, allowing users to execute schedule items with a single click.

å¿«æŠ¥ï¼š è‡ªåŠ¨ç”Ÿæˆçš„â€œæ¯æ—¥å¿«æŠ¥â€é¡µé¢ï¼Œåæ˜ æ¸¸æˆä¸–ç•Œçš„äº‹ä»¶ï¼Œè§£æ LLM è¾“å‡ºä¸­çš„å¤´æ¡æ–°é—»å’Œçƒ­æœè¯é¢˜ã€‚ è¡Œç¨‹ï¼š å½“æ—¥æ—¥ç¨‹çš„æ—¶é—´è½´è§†å›¾ï¼Œå…è®¸ç”¨æˆ·ä¸€é”®æ‰§è¡Œç‰¹å®šçš„è¡Œç¨‹é¡¹ç›®ã€‚

**ğŸ› ï¸ Technical Highlights (æŠ€æœ¯è¦ç‚¹)**
Context Parsing via Regular Expressions (åŸºäºæ­£åˆ™çš„ä¸Šä¸‹æ–‡è§£æ)
The extension does not rely solely on SillyTavern's variable system. Instead, it actively scans the chat history for custom XML-like tags (e.g., <status_top>, <news>, <contracts>, <shop>). This allows the LLM (Character Card) to dynamically update the UI by simply outputting structured text.

æœ¬æ‰©å±•ä¸å®Œå…¨ä¾èµ– SillyTavern çš„å˜é‡ç³»ç»Ÿã€‚ç›¸åï¼Œå®ƒä¸»åŠ¨æ‰«æèŠå¤©è®°å½•ä¸­çš„è‡ªå®šä¹‰ XML é£æ ¼æ ‡ç­¾ï¼ˆä¾‹å¦‚ <status_top>, <news>, <contracts>, <shop>ï¼‰ã€‚è¿™ä½¿å¾— LLMï¼ˆè§’è‰²å¡ï¼‰åªéœ€è¾“å‡ºç»“æ„åŒ–æ–‡æœ¬å³å¯åŠ¨æ€æ›´æ–° UIã€‚

Slash Command Integration (æ–œæ æŒ‡ä»¤é›†æˆ)
All user actions in the UI (traveling, buying items, starting sex scenes) are converted into natural language or system instructions and sent back to the chat using SillyTavern's /setinput slash command. This ensures a seamless loop between the UI and the text generation.

UI ä¸­çš„æ‰€æœ‰ç”¨æˆ·æ“ä½œï¼ˆç§»åŠ¨ã€è´­ä¹°ç‰©å“ã€å¼€å§‹äº’åŠ¨ï¼‰éƒ½ä¼šè¢«è½¬æ¢ä¸ºè‡ªç„¶è¯­è¨€æˆ–ç³»ç»ŸæŒ‡ä»¤ï¼Œå¹¶ä½¿ç”¨ SillyTavern çš„ /setinput æ–œæ æŒ‡ä»¤å‘é€å›èŠå¤©æ¡†ã€‚è¿™ç¡®ä¿äº† UI å’Œæ–‡æœ¬ç”Ÿæˆä¹‹é—´çš„æ— ç¼é—­ç¯ã€‚

Responsive & Draggable UI (å“åº”å¼ä¸å¯æ‹–æ‹½ UI)
The panel is built with mobile adaptation in mind (using CSS Grid and Flexbox). It features a draggable window system (using jQuery UI) that solves common conflicts between CSS transforms and JavaScript positioning, ensuring the window behaves correctly on close/reopen.

é¢æ¿çš„æ„å»ºè€ƒè™‘äº†ç§»åŠ¨ç«¯é€‚é…ï¼ˆä½¿ç”¨ CSS Grid å’Œ Flexboxï¼‰ã€‚å®ƒå…·æœ‰ä¸€ä¸ªå¯æ‹–æ‹½çš„çª—å£ç³»ç»Ÿï¼ˆä½¿ç”¨ jQuery UIï¼‰ï¼Œè§£å†³äº† CSS å˜æ¢ï¼ˆtransformï¼‰ä¸ JavaScript å®šä½ä¹‹é—´çš„å¸¸è§å†²çªï¼Œç¡®ä¿çª—å£åœ¨å…³é—­/é‡æ–°æ‰“å¼€æ—¶è¡¨ç°æ­£å¸¸ã€‚

State Management (çŠ¶æ€ç®¡ç†)
It synchronizes character stats (Affection, Desire, Skills) by reading specific variable blocks (stat_data) from the character card's specialized output, visualizing complex JSON data into readable progress bars and gauges.

å®ƒé€šè¿‡è¯»å–è§’è‰²å¡ç‰¹å®šè¾“å‡ºä¸­çš„å˜é‡å—ï¼ˆstat_dataï¼‰æ¥åŒæ­¥è§’è‰²å±æ€§ï¼ˆå¥½æ„Ÿåº¦ã€æ¬²æœ›ã€æŠ€èƒ½ï¼‰ï¼Œå°†å¤æ‚çš„ JSON æ•°æ®å¯è§†åŒ–ä¸ºæ˜“è¯»çš„è¿›åº¦æ¡å’Œä»ªè¡¨ã€‚

**ğŸ“¦ Installation (å®‰è£…æŒ‡å—)**
Download the Extension (ä¸‹è½½æ‰©å±•): Clone this repository or download the zip file. Extract the contents into your SillyTavern extensions directory: 

å…‹éš†æ­¤ä»“åº“æˆ–ä¸‹è½½å‹ç¼©åŒ…ã€‚å°†å†…å®¹è§£å‹åˆ°ä½ çš„ SillyTavern æ‰©å±•ç›®å½•ä¸­ï¼š /SillyTavern/public/scripts/extensions/third-party/CTE_Map

Acquire the Character Card (è·å–è§’è‰²å¡): The extension relies on the specific logic within the CTEç”·å›¢æ—¥å¸¸mvu4.json card. This card is NOT included in this repository. You must obtain the authorized version from the official community: 

æœ¬æ‰©å±•ä¾èµ–äº CTEç”·å›¢æ—¥å¸¸mvu4.json å¡ç‰‡å†…çš„ç‰¹å®šé€»è¾‘è¿è¡Œã€‚æœ¬ä»“åº“ä¸æä¾›è¯¥è§’è‰²å¡ã€‚ è¯·åŠ¡å¿…å‰å¾€å®˜æ–¹ç¤¾åŒºè·å–æ­£ç‰ˆæˆæƒæ–‡ä»¶ï¼š ğŸ‘‰ Source: DISCORD.GG/CHENYEAH

Enable & Reload (å¯ç”¨å¹¶é‡è½½): Import the card into SillyTavern, enable the extension in settings, and reload the page. You should see a map icon button appear on the interface. 

å°†å¡ç‰‡å¯¼å…¥ SillyTavernï¼Œåœ¨è®¾ç½®ä¸­å¯ç”¨è¯¥æ‰©å±•å¹¶åˆ·æ–°é¡µé¢ã€‚ä½ åº”è¯¥ä¼šåœ¨ç•Œé¢ä¸Šçœ‹åˆ°ä¸€ä¸ªåœ°å›¾å›¾æ ‡æŒ‰é’®ã€‚

**ğŸ® Usage (ä½¿ç”¨è¯´æ˜)**
Start a chat with the CTE Character Card. 
ä¸ CTE è§’è‰²å¡ å¼€å§‹å¯¹è¯ã€‚

Wait for the introductory message to generate the initialization tags. 
ç­‰å¾…å¼€åœºç™½ç”Ÿæˆåˆå§‹åŒ–æ ‡ç­¾ã€‚

Click the Map Icon (ğŸ—ºï¸) to open the dashboard. 
ç‚¹å‡» åœ°å›¾å›¾æ ‡ (ğŸ—ºï¸) æ‰“å¼€ä»ªè¡¨ç›˜ã€‚

Use the tabs on the top right to switch between Map, Schedule, Agency, Heartbeat, etc. 
ä½¿ç”¨å³ä¸Šè§’çš„æ ‡ç­¾é¡µåœ¨ åœ°å›¾ã€è¡Œç¨‹ã€äº‹åŠ¡æ‰€ã€å¿ƒè·³äº’åŠ¨ ç­‰åŠŸèƒ½é—´åˆ‡æ¢ã€‚

If the UI looks empty, trigger the character to output the relevant status by typing keywords like "æŸ¥çœ‹é€šå‘Š" (Check Contracts) or "åˆ·æ–°æ—¥æŠ¥" (Refresh News). 
å¦‚æœ UI æ˜¾ç¤ºä¸ºç©ºï¼Œå¯ä»¥é€šè¿‡è¾“å…¥å…³é”®è¯å¦‚â€œæŸ¥çœ‹é€šå‘Šâ€ or â€œåˆ·æ–°æ—¥æŠ¥â€æ¥è§¦å‘è§’è‰²è¾“å‡ºç›¸å…³çŠ¶æ€ã€‚

**ğŸ“„ License & Terms (è®¸å¯è¯ä¸æ¡æ¬¾)**
CTE Map Idol Manager (The Extension / æ’ä»¶æœ¬ä½“): The code for this extension is Open Source for personal modification and learning. However, Commercial Use is Strictly Prohibited. You may not sell, rent, or use this code for any profit-making activities. 

æœ¬æ‰©å±•çš„ä»£ç éƒ¨åˆ†ä¸º å¼€æºé¡¹ç›®ï¼Œä»…ä¾›ä¸ªäººä¿®æ”¹å’Œå­¦ä¹ ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œç»å¯¹ç¦æ­¢ä»»ä½•å½¢å¼çš„å•†ä¸šç”¨é€”ã€‚ä¸å¾—å°†æ­¤ä»£ç ç”¨äºå”®å–ã€ç§Ÿèµæˆ–ä»»ä½•ç›ˆåˆ©æ€§æ´»åŠ¨ã€‚

Character Card (The Content / è§’è‰²å¡å†…å®¹): The accompanying character card (CTEç”·å›¢æ—¥å¸¸mvu4.json) is the intellectual property of the original author. Usage Rights: The author strictly limits authorization to SillyTavern users who are also members of the official Discord community. Prohibition: Use or distribution of this character card through any non-author-authorized channels is absolutely forbidden. 

é…å¥—çš„è§’è‰²å¡ (CTEç”·å›¢æ—¥å¸¸mvu4.json) ä¸ºåŸä½œè€…çš„çŸ¥è¯†äº§æƒã€‚ ä½¿ç”¨æƒï¼š åŸä½œè€…ä»…æˆæƒ åŒæ—¶èº«ä¸ºå®˜æ–¹ Discord ç¤¾åŒºæˆå‘˜çš„ SillyTavern ç”¨æˆ· ä½¿ç”¨ã€‚ ç¦ä»¤ï¼š ç»å¯¹ç¦æ­¢é€šè¿‡ä»»ä½•éä½œè€…æˆæƒçš„æ¸ é“ï¼ˆå¦‚å€’å–ã€æœªç»å…è®¸çš„è½¬è½½ç«™ç­‰ï¼‰è·å–ã€ä¼ æ’­æˆ–ä½¿ç”¨è¯¥è§’è‰²å¡ã€‚
